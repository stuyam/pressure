<!doctype>
<html>
  <head>
    <script src="https://use.typekit.net/uqo0cpv.js"></script>
    <script>try{Typekit.load({ async: true });}catch(e){}</script>
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/poet.css">
    <link rel="stylesheet" type="text/css" href="css/prism.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script src="js/prism.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>Pressure.js</title>
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.png">
  </head>
  <body>
    <header>
      <div class="container">
        <span class="mighty-2 text-center-block">Pressure.js</span>
        <p class="text-fluid text-indent" style="margin-bottom: 0;">Pressure is a JavaScript library that makes dealing with Apple's Force Touch and 3D Touch simple. Force Touch for new Macs and 3D Touch for the new iPhone 6s and 6s Plus, all bundled under one roof with a simple API that makes working with them painless.</p>
        <p class="text-fluid text-indent">Pressure gives you a handle on browsers that do and don't support Force or 3D touch so you can plan for the users experince if they don't support it.</p>
        <div class="text-center-block download" id="pressure-test">Pressure Browser Test (click me)</div>
        <a class="text-center-block download" href="https://github.com/yamartino/pressure">Download on <b>GitHub</b></a>
        <div class="social-buttons">
          <iframe src="https://ghbtns.com/github-btn.html?user=yamartino&repo=pressure&type=star&count=true&size=large" frameborder="0" scrolling="0" width="145px" height="30px"></iframe>
          <a class="twitter-share-button" data-size="large" href="https://twitter.com/intent/tweet?text=Pressure.js makes working with #ForceTouch and #3DTouch painless to use on the web via @StuYam">Tweet</a>
        </div>
      </div>
    </header>
    <div class="container">
      <!-- Nav tabs -->
      <ul class="nav nav-tabs" role="tablist">
        <li role="presentation" class="active"><a href="#examples" aria-controls="examples" role="tab" data-toggle="tab">Examples</a></li>
        <li role="presentation"><a href="#documentation" aria-controls="documentation" role="tab" data-toggle="tab">Documentation</a></li>
        <li role="presentation"><a href="#press" aria-controls="documentation" role="tab" data-toggle="tab">Press</a></li>
      </ul>
      <br />
      <!-- Tab panes -->
      <div class="tab-content">
        <div role="tabpanel" class="tab-pane" id="press">
          <ul>
            <li>
              <a href="https://www.producthunt.com/tech/pressure-js" target="new"><h3>Product Hunt</h3></a>
            </li>
            <li>
              <a href="https://www.reddit.com/r/javascript/comments/42a7oc/pressurejs/" target="new"><h3>Reddit</h3></a>
            </li>
            <li>
              <a href="https://fivejs.codeschool.com/episodes/144-episode-105-january-21st-2016/stories/769-pressure-js" target="new"><h3>5 Minutes of JS Podcast</h3></a>
            </li>
            <li>
              <a href="https://twitter.com/StuYam/status/690418629578465281" target="new"><h3>Twitter</h3></a>
            </li>
          </ul>
        </div>

        <div role="tabpanel" class="tab-pane active" id="examples">
          <h3>Current Browser/Device Support</h3>
          <ul>
            <li>iPhone 6s (safari)</li>
            <li>iPhone 6s Plus (safari)</li>
            <li>MacBook 2015 (safari)</li>
            <li>13" MacBook Pro 2015 (safari)</li>
            <li>15" MacBook Pro 2015 (safari)</li>
            <li>Magic Trackpad 2 (safari)</li>
            <li>(future devices and browser that support force will be added when they come out)</li>
          </ul>
          <hr>
          <p>This is still a work in progress, the "zero" doesn't work, but it is a cool example of what can be done with 3D Touch on the new iPhone 6s</p>
          <a href="http://yamartino.github.io/pressurejs-scale/" class="btn btn-success" style="color: white;">Pressure.js Scale</a>
          <hr>
          <p>If you are not using one of the devices / browsers listed above, here is a gif to show it in action.</p>
          <img src="pressure.gif" style="width: 100%;box-shadow: 0 0 5px 5px rgba(0,0,0,0.1);margin: 20px 0;" />
          <h3>Examples</h3>
          <div class="h4 doc-title">1. Pressure Change</div>
          <p>The best part about Pressure is that is uses a single API that works on both Force Touch and 3D Touch. (note: Apple currently only has support for desktop and mobile safari, but luckily with pressure you can test for that)</p>
          <div class="doc-section">
            <div class="doc-top">
              <h4>Targets All</h4>
              <div class="element" id="el1">0</div>
              <h4>Targets ONLY Force Touch</h4>
              <div class="element" id="el2">0</div>
              <h4>Targets ONLY 3D Touch</h4>
              <div class="element" id="el3">0</div>
            </div>
    <!--         <div class="doc-bottom">
              <pre class="language-javascript"><code></code></pre>
            </div> -->
          </div>

          <div class="h4 doc-title">2. Unblur Photo</div>
          <p>The harder you press on the image the less blurry it will become.</p>
          <div class="doc-section">
            <div class="doc-top">
              <p>(try pressing with variable amounts of pressure)</p>
              <div class="wrap-peanuts">
                <img src="peanuts.jpg" id="peanuts"/>
              </div>
            </div>
    <!--         <div class="doc-bottom">
              <pre class="language-javascript"><code></code></pre>
            </div> -->
          </div>

          <div class="h4 doc-title">3. Text Size</div>
          <p>The harder you press on the text, the bigger it gets. This could be useful for accessibility on online articles.
          <div class="doc-section">
            <div class="doc-top">
              <div id="text-sizer">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
              </div>
            </div>
          </div>

          <div class="h4 doc-title">4. Rotating Square</div>
          <p>The harder you press on the button, the farther the image will spin.
          <div class="doc-section">
            <div class="doc-top">
              <button id="cube-btn" class="btn btn-success btn-lg">Press Me!</button>
              <p>(try pressing with variable amounts of pressure)</p>
              <br/>
              <br/>
              <img id="spinning-cube" src="pickle.jpg"/>
            </div>
          </div>

          <div class="h4 doc-title">5. "Deep" or Force Press</div>
          <p>Press hard on the button, a "Deep" or Force press will occur and launch a bootstrap popover.
          <div class="doc-section">
            <div class="doc-top">
              <button id="popover" type="button" class="btn btn-lg btn-danger" data-placement="top" data-toggle="popover" title="Deep Press Popover!" data-content='This popover was triggered because you pressed over 50% pressure on iOS or OSX. On OSX this is called a "force touch"'>Press hard to toggle popover</button>
            </div>
          </div>
        </div>


        <!-- DOCUMENTATION ----------------------------------------------------------------------- -->
        <div role="tabpanel" class="tab-pane" id="documentation">
          <div class="h4 doc-title">1. Installation</div>
          <p>Pressure is really simple to install, you can use npm or bower, or head over to the github and download the repo itself. All you need is the <code>pressure.min.js</code> or the <code>pressure.js</code> file.</p>
          <div class="doc-section">
            <div class="doc-top">
              <div class="center">bower</div>
            </div>
            <div class="doc-bottom">
              <pre class="language-javascript"><code>bower install pressure --save</code></pre>
            </div>
          </div>
          <div class="doc-section">
            <div class="doc-top">
              <div class="center">npm</div>
            </div>
            <div class="doc-bottom">
              <pre class="language-javascript"><code>npm install pressure --save</code></pre>
            </div>
          </div>

          <div class="h4 doc-title">2. Setup</div>
          <p>You can use pressure with browserify, debowerify, or anything that uses CommonJS to include packages. Pressure can be used normally if no module object exists.</p>
          <div class="doc-section">
            <div class="doc-bottom">
              <pre class="language-javascript"><code>// Regular
Pressure.set('#test', {
  change: function(force, event){
    console.log(force);
  }
});</code></pre>
            </div>
          </div>
          <div class="doc-section">
            <div class="doc-bottom">
              <pre class="language-javascript"><code>// Browserify, Debowerify, CommonJS
var Pressure = require('pressure');

Pressure.set('#test', {
  change: function(force, event){
    console.log(force);
  }
});</code></pre>
            </div>
          </div>
          <div class="doc-section">
            <div class="doc-bottom">
              <pre class="language-javascript"><code>// RequireJS
requirejs(['pressure'], function( Pressure ) {

  Pressure.set('#test', {
    change: function(force, event){
      console.log(force);
    }
  });

});
</code></pre>
            </div>
          </div>


          <div class="h4 doc-title">3. Usage</div>
          <p>Pressure has a really simple method signature. The first argument is the element(s) you are targeting and the second argument is an object with optional callback functions. This lists all the element types that can be passed into Pressure, anything from a string selector, to a DOM node object.</p>
          <div class="doc-section">
            <div class="doc-top">
              <div id="output-element" style="width: 100%;padding: 10px;">Click Me</div>
            </div>
            <div class="doc-bottom">
              <pre class="language-javascript"><code>// target all links
Pressure.set('a', {});

// pass in jQuery elements
var elements = $('.dogs');
Pressure.set(elements, {});

// pass in element list or single element
var elements2 = document.querySelectorAll('.cats');
Pressure.set(elements2, {});
var elements3 = document.getElementById('cat');
Pressure.set(elements3, {});

// element with the 'stuart' ID being selected and calling the 'change' callback
Pressure.set('#stuart', {
  change: function(force, event){
    // the force value is passed back as well as the full event
    this.innerHTML = force;
  }
});</code></pre>
            </div>
          </div>

          <div class="alert alert-success" role="alert"><b>Pro Tip:</b> "force" is a value passed back by the "change" function and is a value from 0 to 1. On Mac it is converted from a 1 to 3 scale to a 0 to 1 scale so it can be used in a consistent manner.</div>

          <p>This example uses all of the optional methods available to you in the callback object.</p>
          <div class="doc-section">
            <div class="doc-bottom">
              <pre class="language-javascript"><code>Pressure.set('#element', {
  start: function(event){
    // this is called on force start
  },
  end: function(){
    // this is called on force end
  },
  startDeepPress: function(event){
    // this is called on "force click" / "deep press", aka once the force is greater than 0.5
  },
  endDeepPress: function(){
    // this is called when the "force click" / "deep press" end
  },
  change: function(force, event){
    // this is called every time there is a change in pressure
  },
  unsupported: function(){
    // this is called once there is a touch on the element and the device or browser does not support Force or 3D touch
  }
});</code></pre>
            </div>
          </div>

          <div class="h4 doc-title">4. jQuery Usage</div>
          <p>Use the <code>jquery.pressure.min.js</code> file if you are using jQuery in your project. Using the Pressure jQuery library makes it simple to attach pressure events to jQuery elements.</p>
          <div class="doc-section">
            <div class="doc-bottom">
              <pre class="language-javascript"><code>$('a').pressure({
  start: function(event){
    // this is called on force start
  },
  end: function(){
    // this is called on force end
  },
  startDeepPress: function(event){
    // this is called on "force click" / "deep press", aka once the force is greater than 0.5
  },
  endDeepPress: function(){
    // this is called when the "force click" / "deep press" end
  },
  change: function(force, event){
    // this is called every time there is a change in pressure
  },
  unsupported: function(){
    // this is called once there is a touch on the element and the device or browser does not support Force or 3D touch
  }
});
</code></pre>
            </div>
          </div>


          <div class="h4 doc-title">5. Options</div>
          <h4><b>Device Detection</b></h4>
          <p>With Pressure, the third paramater is an optional object of options that can be passed in. The first option is device targeting. Using the "only" keyword, you can define if you want pressure to run on ONLY Mac or ONLY iPhone.</p>
          <div class="doc-section">
            <div class="doc-top">
              <div id="element-3d" style="width: 100%;padding: 10px;">Click Me On an iPhone 6s</div>
            </div>
            <div class="doc-bottom">
              <pre class="language-javascript"><code>Pressure.set('#element-3d', {
  change: function(force, event){
    this.innerHTML = force + 'on an iphone';
  }
}, {only: '3d'});</code></pre>
            </div>
          </div>

          <div class="doc-section">
            <div class="doc-top">
              <div id="element-force" style="width: 100%;padding: 10px;">Click Me On a Mac with Force Touch</div>
            </div>
            <div class="doc-bottom">
              <pre class="language-javascript"><code>Pressure.set('#element-force', {
  change: function(force, event){
    this.innerHTML = force + 'on a Mac';
  }
}, {only: 'force'});</code></pre>
            </div>
          </div>

          <h4><b>Prevent Default</b></h4>
          <p>Both Mac and iPhones have system wide features that they default to when force clicking on something (ex. defining a word on Mac or "peeking and popping" an image on iOS). Pressure prevents those actions from happening, however if you still want those actions to be possible on "Pressure" elements, you can pass in "preventDefault" as an option.</p>
          <div class="doc-section">
            <div class="doc-top">
              <div style="width: 100%;padding: 10px;">Push the image hard on an iPhone6s to "peek and pop" it</div>
              <img src="pickle.jpg" style="widht: 100%; max-width: 200px" id="element-3d-prevent" />
            </div>
            <div class="doc-bottom">
              <pre class="language-javascript"><code>Pressure.set('#element-3d', {
  start: function(event){
    console.log('cool it started');
  }
}, {only: '3d', preventDefault: false});</code></pre>
            </div>
          </div>

          <div class="doc-section">
            <div class="doc-top">
              <div id="element-force-prevent" style="width: 100%;padding: 10px;">Force touch one of these words on a Force Touch trackpad to define it.</div>
            </div>
            <div class="doc-bottom">
              <pre class="language-javascript"><code>Pressure.set('#element-force', {
  start: function(event){
    console.log('cool it started');
  }
}, {only: 'force', preventDefault: false});</code></pre>
            </div>
          </div>

          <h4><b>CSS Preset</b></h4>
          <p>Pressure sets <code>user-select: none;</code> css property on all of the elements it is attached to. It does this to keep text from being selected while force touching. However, sometimes you may want this turned off. You can pass in the "css" option set to false to make sure that never gets set.</p>
          <div class="doc-section">
            <div class="doc-bottom">
              <pre class="language-javascript"><code>Pressure.set('span', {
  start: function(event){
    console.log('cool it started');
  }
}, {css: false});</code></pre>
            </div>
          </div>

          <div class="h4 doc-title">6. Helper</div>
          <p>You can use <code>Pressure.map()</code> to map a value from one range of values to another. It takes 5 params: <code>Pressure.map(inputValue, inputValueMin, inputValueMax, mapToMin, mapToMax);</code> Here is a good write up on how this works in the Processing framework: <a href="https://processing.org/reference/map_.html">Map Function</a>.</p>
          <div class="alert alert-success">When using the jQuery Pressure library, use <code>$.pressureMap()</code> rather than <code>Pressure.map()</code></div>
          <div class="doc-section">
            <div class="doc-bottom">
              <pre class="language-javascript"><code>Pressure.set('#element', {
  change: function(force, event){
    // this takes the force, given that the force can range from 0 to 1, and maps that force value on a 100 to 200 range
    this.style.width = Pressure.map(force, 0, 1, 100, 200);
  }
});</code></pre>
            </div>
          </div>





          </div>

        </div>
      </div>


      <footer class="text-center-block">Pressure is created and maintained by Stuart Yamartino | <a class="text-smart-underline" href="https://twitter.com/StuYam">Twitter</a> | <a class="text-smart-underline" href="https://github.com/Yamartino">GitHub</a></footer>
    </div>

    <script src="https://code.jquery.com/jquery-2.2.0.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>

    <script type="text/javascript" src="js/pressure.min.js"></script>
    <script type="text/javascript" src="js/app.js"></script>
    <!-- GitHub. -->
    <script async defer id="github-bjs" src="https://buttons.github.io/buttons.js"></script>
    <!-- Gitter Sidecar. -->
    <script>
      ((window.gitter = {}).chat = {}).options = {
        room: 'yamartino/pressure'
      };
    </script>
    <script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script>
  </body>
</html>
